(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{247:function(a,t,s){"use strict";s.r(t);var e=s(0),r=Object(e.a)({},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"linux常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux常用命令","aria-hidden":"true"}},[a._v("#")]),a._v(" Linux常用命令")]),a._v(" "),s("h2",{attrs:{id:"查看系统相关命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看系统相关命令","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看系统相关命令")]),a._v(" "),s("h3",{attrs:{id:"查看系统内核"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看系统内核","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看系统内核")]),a._v(" "),s("p",[a._v("三个命令可以用来查看系统内核以及其他信息。")]),a._v(" "),s("h4",{attrs:{id:"_1-uname"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-uname","aria-hidden":"true"}},[a._v("#")]),a._v(" 1. uname")]),a._v(" "),s("p",[a._v("uname 是用来查看系统信息的命令。用法： "),s("code",[a._v("uname [OPTION]...")]),a._v(". 当没有option时，视为"),s("code",[a._v("uname -s")]),a._v(".")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("-a")]),a._v(" 打印所有信息")]),a._v(" "),s("li",[s("code",[a._v("-s")]),a._v(" 打印内核名称")]),a._v(" "),s("li",[s("code",[a._v("-r")]),a._v(" 打印内核发行版本")]),a._v(" "),s("li",[a._v("...其他见 "),s("code",[a._v("uname --help")])])]),a._v(" "),s("p",[a._v("所以最直观的，可以用 "),s("code",[a._v("uname -r")]),a._v("来查看内核版本。")]),a._v(" "),s("h4",{attrs:{id:"_2-cat-proc-version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-cat-proc-version","aria-hidden":"true"}},[a._v("#")]),a._v(" 2. cat /proc/version")]),a._v(" "),s("p",[s("code",[a._v("cat /proc/version")]),a._v(" 可以打印系统版本信息。")]),a._v(" "),s("h4",{attrs:{id:"_3-hostnamectl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-hostnamectl","aria-hidden":"true"}},[a._v("#")]),a._v(" 3. hostnamectl")]),a._v(" "),s("p",[s("code",[a._v("hostnamectl")]),a._v("是用来控制系统主机名称的工具，也可以用来打印系统相关信息。")]),a._v(" "),s("h3",{attrs:{id:"查看系统版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看系统版本","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看系统版本")]),a._v(" "),s("p",[a._v("不同的Linux发行版系统所用的命令不太一样。比较通用的可以使用")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cat /etc/*release\n")])])]),s("h2",{attrs:{id:"监控性能相关命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#监控性能相关命令","aria-hidden":"true"}},[a._v("#")]),a._v(" 监控性能相关命令")]),a._v(" "),s("h3",{attrs:{id:"top"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#top","aria-hidden":"true"}},[a._v("#")]),a._v(" top")]),a._v(" "),s("p",[a._v("top命令用来监控Linux系统的性能，它可以实时地展示所有正在运行的进程，并且展示了CPU使用率，内存占用率等有用信息。")]),a._v(" "),s("h3",{attrs:{id:"vmstat"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vmstat","aria-hidden":"true"}},[a._v("#")]),a._v(" vmstat")]),a._v(" "),s("p",[a._v("显示（虚拟）内存使用情况。")]),a._v(" "),s("h3",{attrs:{id:"ifconfig"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ifconfig","aria-hidden":"true"}},[a._v("#")]),a._v(" ifconfig")]),a._v(" "),s("p",[a._v("显示和设置网卡（network interface）。")]),a._v(" "),s("h3",{attrs:{id:"tcpdump"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcpdump","aria-hidden":"true"}},[a._v("#")]),a._v(" tcpdump")]),a._v(" "),s("p",[a._v("用来对特定网卡抓包，同时提供过滤等功能，也可以把包数据保存下来，以供后续分析。")]),a._v(" "),s("h3",{attrs:{id:"netstat"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#netstat","aria-hidden":"true"}},[a._v("#")]),a._v(" netstat")]),a._v(" "),s("p",[a._v("用来监控网络连接的状态。")]),a._v(" "),s("h3",{attrs:{id:"lscpu-lsmem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lscpu-lsmem","aria-hidden":"true"}},[a._v("#")]),a._v(" lscpu lsmem")]),a._v(" "),s("p",[a._v("分别可以用来查看CPU信息，内存信息。")]),a._v(" "),s("h2",{attrs:{id:"查看文件（目录）大小"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看文件（目录）大小","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看文件（目录）大小")]),a._v(" "),s("h3",{attrs:{id:"ls"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ls","aria-hidden":"true"}},[a._v("#")]),a._v(" ls")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" -lh filename \n")])])]),s("ul",[s("li",[s("code",[a._v("-l")]),a._v("表示每个文件（目录）显示一行")]),a._v(" "),s("li",[s("code",[a._v("-h")]),a._v("表示使用 human readable 的形式输出。")]),a._v(" "),s("li",[a._v("不可用于查看目录大小。")])]),a._v(" "),s("h3",{attrs:{id:"du"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#du","aria-hidden":"true"}},[a._v("#")]),a._v(" du")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("du")]),a._v(" -sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("filename"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("directory name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("-s")]),a._v("表示只显示概要（也就是说当参数是目录的时候，不显示子目录信息）")]),a._v(" "),s("li",[s("code",[a._v("-h")]),a._v("表示使用 human readable 的形式输出。")]),a._v(" "),s("li",[a._v("可用于查看文件和目录的大小。")])]),a._v(" "),s("h2",{attrs:{id:"sed-命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sed-命令","aria-hidden":"true"}},[a._v("#")]),a._v(" sed 命令")]),a._v(" "),s("p",[a._v("Sed是一个用于修改文件的特殊编辑器。如果你想要写一个程序来改变一个文件，sed是一个很合适的工具。")]),a._v(" "),s("h3",{attrs:{id:"s子命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#s子命令","aria-hidden":"true"}},[a._v("#")]),a._v(" s子命令")]),a._v(" "),s("p",[a._v("Sed含有几个命令，其中最常用的是s命令，用于字符替换。 "),s("code",[a._v("sed 's/old/new'")]),a._v("。")]),a._v(" "),s("p",[a._v("例如把文件中的"),s("code",[a._v("day")]),a._v("换成"),s("code",[a._v("night")]),a._v("可以使用如下命令")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 输入为文件old，输出到文件new")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" s/day/night/ "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("old "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("new \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 输入为echo输出的值，输出到控制台")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'day'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'s/day/night/'")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Output: night")]),a._v("\n")])])]),s("blockquote",[s("p",[a._v("分隔符也可以使用"),s("code",[a._v("_ : |")]),a._v("等，特别是当你要替换的字符里包含"),s("code",[a._v("/")]),a._v("时，那就必须使用其他的分隔符了。")])]),a._v(" "),s("blockquote",[s("p",[a._v("注意在使用分隔符的时候，必须包含"),s("strong",[a._v("三个")]),a._v("，少一个都不行。")])]),a._v(" "),s("h3",{attrs:{id:"支持正则表达式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#支持正则表达式","aria-hidden":"true"}},[a._v("#")]),a._v(" 支持正则表达式")]),a._v(" "),s("p",[a._v("sed命令支持正则表达式，-r参数可以使其支持扩展的正则表达式(extended regular expressions)\n&用来指代寻到的pattern。(Mac OS上是-E）.")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'123 abc'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" -r "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'s/[0-9]+/(&)/'")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" abc\n")])])]),s("h3",{attrs:{id:"全局替换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局替换","aria-hidden":"true"}},[a._v("#")]),a._v(" 全局替换")]),a._v(" "),s("p",[s("code",[a._v("/g")]),a._v("用于全局替换。Sed在默认情况下只会对"),s("strong",[a._v("每一行")]),a._v("的第一次配对成功的字符串进行替换。在替换的最后加上/g可以使所有匹配的字符串被替换.")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'abc abc'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'s/abc/123/'")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("123")]),a._v(" abc\n$ "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'abc abc'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'s/abc/123/g'")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("123")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("123")]),a._v("\n")])])]),s("h2",{attrs:{id:"查看端口使用情况"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看端口使用情况","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看端口使用情况")]),a._v(" "),s("p",[a._v("查看端口使用情况，一般使用两个命令："),s("code",[a._v("netstat")]),a._v("或者"),s("code",[a._v("lsof")]),a._v(". 其中"),s("code",[a._v("netstat")]),a._v("是要一个用于监控网络的工具，而"),s("code",[a._v("lsof")]),a._v("是一个用于列出被某一个具体线程所打开的文件的工具。")]),a._v(" "),s("h3",{attrs:{id:"netstat-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#netstat-2","aria-hidden":"true"}},[a._v("#")]),a._v(" netstat")]),a._v(" "),s("ul",[s("li",[a._v("用于监控网络连接状况，路由表等")]),a._v(" "),s("li",[a._v("一般使用格式为 "),s("code",[a._v("netstat -nlp | grep <port-number>")])]),a._v(" "),s("li",[a._v("其中"),s("code",[a._v("-n")]),a._v("代表以数字形式输出，"),s("code",[a._v("-l")]),a._v("代表显示正在监听的网络连接，"),s("code",[a._v("-p")]),a._v("代表显示与该连接对应的进程号和进程名")]),a._v(" "),s("li",[s("code",[a._v("grep")]),a._v("用于筛选出我们需要的端口号。")])]),a._v(" "),s("blockquote",[s("p",[a._v("以上是 Linux 系统中的"),s("code",[a._v("netstat")]),a._v("，与 Mac 中不一样。Mac中可以使用"),s("code",[a._v("netstat -na | grep <port-number>")]),a._v("来检查。")])]),a._v(" "),s("h3",{attrs:{id:"lsof"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lsof","aria-hidden":"true"}},[a._v("#")]),a._v(" lsof")]),a._v(" "),s("ul",[s("li",[a._v("全称是 "),s("code",[a._v("list open files")]),a._v("，用于列出被某一个具体进程所打开的文件。这里的文件是广义上的文件，包括常规文件、目录、库、流或者网络文件（网络套接字，NFS文件，Unix域套接字等）。")]),a._v(" "),s("li",[a._v("直接输入"),s("code",[a._v("lsof")]),a._v(",会列出所有活跃进程打开的文件。")]),a._v(" "),s("li",[a._v("要查看占用某特定端口的进程，使用命令"),s("code",[a._v("lsof -i :<port-number>")]),a._v(".")]),a._v(" "),s("li",[s("code",[a._v("-i [i]")]),a._v("的作用：\n"),s("ul",[s("li",[a._v("列出网络地址符合一定规律的"),s("code",[a._v("network file")]),a._v("。该规律以"),s("code",[a._v("[i]")]),a._v("的格式展现。")]),a._v(" "),s("li",[s("code",[a._v("[i]")]),a._v("的格式："),s("code",[a._v("[46][protocol][@hostname|hostaddr][:service|port]")])]),a._v(" "),s("li",[a._v("其具体含义为：")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("46 specifies the IP version, IPv4 or IPv6\n    that applies to the following address.\n    '6' may be be specified only if the UNIX\n    dialect supports IPv6.  If neither '4' nor\n    '6' is specified, the following address\n    applies to all IP versions.\nprotocol is a protocol name - TCP, UDP\nhostname is an Internet host name.  Unless a\n    specific IP version is specified, open\n    network files associated with host names\n    of all versions will be selected.\nhostaddr is a numeric Internet IPv4 address in\n    dot form; or an IPv6 numeric address in\n    colon form, enclosed in brackets, if the\n    UNIX dialect supports IPv6.  When an IP\n    version is selected, only its numeric\n    addresses may be specified.\nservice is an /etc/services name - e.g., smtp -\n    or a list of them.\nport is a port number, or a list of them.\n")])])]),s("ul",[s("li",[a._v("举例如下：\n"),s("ul",[s("li",[s("code",[a._v("-i6")]),a._v(" - IPv6 only")]),a._v(" "),s("li",[s("code",[a._v("TCP:25")]),a._v(" - TCP and port 25")]),a._v(" "),s("li",[s("code",[a._v("@1.2.3.4")]),a._v(" - Internet IPv4 host address 1.2.3.4")]),a._v(" "),s("li",[s("code",[a._v("@[3ffe:1ebc::1]:1234")]),a._v(" - Internet IPv6 host address 3ffe:1ebc::1, port 1234")]),a._v(" "),s("li",[s("code",[a._v("UDP:who")]),a._v(" - UDP who service port")]),a._v(" "),s("li",[s("code",[a._v("TCP@lsof.itap:513")]),a._v(" - TCP, port 513 and host name lsof.itap")]),a._v(" "),s("li",[s("code",[a._v("tcp@foo:1-10,smtp,99")]),a._v(" - TCP, ports 1 through 10, service name smtp, port 99, host name foo")]),a._v(" "),s("li",[s("code",[a._v("tcp@bar:1-smtp - TCP")]),a._v(", ports 1 through smtp, host bar")]),a._v(" "),s("li",[s("code",[a._v(":time")]),a._v(" - either TCP, UDP or UDPLITE time service port")])])])])])])])},[],!1,null,null,null);t.default=r.exports}}]);